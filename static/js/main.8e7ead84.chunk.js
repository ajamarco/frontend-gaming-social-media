(this["webpackJsonpfrontend-gamming-social-media"]=this["webpackJsonpfrontend-gamming-social-media"]||[]).push([[0],{138:function(e,t,a){e.exports=a(172)},143:function(e,t,a){},144:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),l=(a(143),a(144),"https://gaming-social-media-app.herokuapp.com"),c="".concat(l,"/sign-in"),s="".concat(l,"/users"),u="".concat(l,"/validate"),m="".concat(l,"/posts"),p="".concat(l,"/unlike_post"),d="".concat(l,"/likes"),E="".concat(l,"/comments"),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""!==t?fetch(e,{headers:{Authorization:t}}):fetch(e)},g=function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)};return fetch(e,a)},b=function(e){return g(c,e).then((function(e){return e.json()}))},h=function(e){return f(u,e).then((function(e){return e.json()}))},y=function(){return f(m,"").then((function(e){return e.json()}))},v=function(e){return g(s,e).then((function(e){return e.json()}))},N=function(e){return function(e,t){var a={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)};return e="".concat(e,"/").concat(t.user_id),fetch(e,a)}(s,e).then((function(e){return e.json()}))},O=function(e){return function(e,t){e="".concat(e,"/").concat(t);return fetch(e,{method:"DELETE",headers:{"Content-type":"application/json"}})}(m,e).then((function(e){return e.json()}))},I=function(e){return function(e,t){var a={method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify(t)};return fetch(e,a)}(p,e).then((function(e){return e.json()}))},S=function(e){return g(d,e).then((function(e){return e.json()}))},T=function(e){return g(m,e).then((function(e){return e.json()}))},x=function(e){return(t=m,a=e,t="".concat(t,"/").concat(a),fetch(t)).then((function(e){return e.json()}));var t,a},_=function(e){return g(E,e).then((function(e){return e.json()}))},j=function(e){return f("".concat(s,"/").concat(e)).then((function(e){return e.json()}))},A=a(13),w=a(40),D=a(51),C=a(32),k=a(121),P=a(120),R=a(11),U=a(217),L=a(202),K=function(e){var t=e.children,a=e.onClick,n=e.tip,o=e.btnClassName,i=e.tipClassName;return r.a.createElement(U.a,{title:n,className:i,placement:"top"},r.a.createElement(L.a,{onClick:a,className:o},t))},F=a(12),W=a(6),Q=a(16),G=a.n(Q),M=a(205),J=a(215),B=a(218),Y=a(204),H=a(203),V=a(83),q=a.n(V),z=a(69),Z=a.n(z);var X=Object(R.b)((function(e){return{UI:e.UI,user:e.user}}),{createNewPost:function(e){return function(t){t({type:"LOADING_DATA"}),T(e).then((function(e){t({type:"NEW_POST",payload:e})}))}}})(G()((function(e){return Object(W.a)({},e.spreadThis,{submitButton:{position:"relative",float:"right",marginTop:10},progressSpinner:{position:"absolute"},closeButton:{position:"absolute",left:"91%",top:"6%"}})}))((function(e){var t=e.classes,a=e.createNewPost,o=e.user,i=Object(n.useState)(!1),l=Object(F.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(""),m=Object(F.a)(u,2),p=m[0],d=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{onClick:function(){return s(!0)},tip:"Create new post"},r.a.createElement(q.a,null)),r.a.createElement(B.a,{open:c,onClose:function(){return s(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(K,{tip:"Close",onClick:function(){return s(!1)},tipClassName:t.closeButton},r.a.createElement(Z.a,null)),r.a.createElement(H.a,null,"Create a New Post"),r.a.createElement(Y.a,null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t={content:p,user_id:o.credentials.id};a(t),s(!1)}(e)}},r.a.createElement(J.a,{name:"body",type:"text",label:"post",multiline:!0,rows:"3",placeholder:"Type the content of your new post here",className:t.TextField,onChange:function(e){return function(e){d(e.target.value)}(e)},fullWidth:!0}),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",className:t.submitButton},"Submit")))))}))),$=a(206),ee=a(207),te=a(111),ae=a.n(te),ne=a(112),re=a.n(ne),oe=function(e){Object(k.a)(a,e);var t=Object(P.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this.props.authenticated;return r.a.createElement($.a,null,r.a.createElement(ee.a,{className:"nav-container"},e?r.a.createElement(n.Fragment,null,r.a.createElement(X,null),r.a.createElement(A.b,{to:"/"},r.a.createElement(K,{tip:"Home"},r.a.createElement(ae.a,null))),r.a.createElement(K,{tip:"Notifications"},r.a.createElement(re.a,null))):r.a.createElement(n.Fragment,null,r.a.createElement(M.a,{color:"inherit",component:A.b,to:"/login"},"Login"),r.a.createElement(M.a,{color:"inherit",component:A.b,to:"/"},"Home"),r.a.createElement(M.a,{color:"inherit",component:A.b,to:"/signup"},"SignUp"))))}}]),a}(n.Component),ie=Object(R.b)((function(e){return{authenticated:e.user.authenticated}}))(oe),le=a(2),ce=Object(R.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(le.a)(e,["component","authenticated"]);return r.a.createElement(w.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(w.a,{to:"/"}):r.a.createElement(t,e)}}))})),se=a(119),ue=a.n(se),me=a(84),pe=a.n(me),de=a(44),Ee=a(113),fe=a(21),ge={authenticated:!1,credentials:{},likes:[],loading:!1,notifications:[]},be={posts:[],post:{},loading:!1,userData:{},userPosts:{}},he={loading:!1,errors:null},ye=[Ee.a],ve=Object(de.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(W.a)({},e,{authenticated:!0,credentials:t.payload,likes:t.payload.likes});case"SET_UNAUTHENTICATED":return ge;case"SET_USER":return{authenticated:!0,loading:!1,credentials:t.payload,likes:t.payload.likes};case"LOADING_USER":return Object(W.a)({},e,{loading:!0});case"REMOVE_LIKE":return Object(W.a)({},e,{likes:e.likes.filter((function(e){return e!==t.payload})),loading:!1});case"ADD_LIKE":return Object(W.a)({},e,{likes:[].concat(Object(fe.a)(e.likes),[t.payload]),loading:!1});case"SET_UNLOADING":return Object(W.a)({},e,{loading:!1});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return Object(W.a)({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(W.a)({},e,{loading:!1,errors:null});case"LOADING_UI":return Object(W.a)({},e,{loading:!0});case"FINISH_LOADING":return Object(W.a)({},e,{loading:!1});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return Object(W.a)({},e,{loading:!0});case"SET_POSTS":return Object(W.a)({},e,{posts:t.payload,loading:!1});case"DELETE_POST":return Object(W.a)({},e,{posts:e.posts.filter((function(e){return e.id!=t.payload})),loading:!1});case"LIKE_POST":var a=e.posts.findIndex((function(e){return e.id===t.payload}));return e.posts[a].likes_number+=1,Object(W.a)({},e,{loading:!1});case"UNLIKE_POST":var n=e.posts.findIndex((function(e){return e.id===t.payload}));return e.posts[n].likes_number-=1,Object(W.a)({},e,{loading:!1});case"NEW_POST":return{state:e,loading:!1,posts:[t.payload].concat(Object(fe.a)(e.posts))};case"SET_POST":return Object(W.a)({},e,{post:t.payload});case"UPDATE_POST_OBJECT":var r=e.posts.find((function(e){return e.id===t.payload}));return Object(W.a)({},e,{post:r});case"NEW_COMMENT":var o=e.posts.findIndex((function(e){return e.id===t.payload.post_id}));return e.posts[o].comments_on_post.unshift(t.payload),Object(W.a)({},e,{loading:!1});case"SET_USER_DATA":return e.userPosts=e.posts.filter((function(e){return e.user.user_id===t.payload.id})),Object(W.a)({},e,{userData:t.payload,loading:!1});default:return e}}}),Ne=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):de.d)(de.a.apply(void 0,ye)),Oe=Object(de.e)(ve,{},Ne),Ie=a(209),Se=a(29),Te=a.n(Se),xe=a(114),_e=a.n(xe),je=a(208),Ae=a(115),we=a.n(Ae);var De=Object(R.b)(null,{deletePost:function(e){return function(t){t({type:"LOADING_DATA"}),O(e).then((function(e){t({type:"DELETE_POST",payload:e.data})}))}}})(G()({deleteButton:{position:"absolute",left:"90%",top:"10%"}})((function(e){var t=e.classes,a=e.id,o=e.deletePost,i=Object(n.useState)(!1),l=Object(F.a)(i,2),c=l[0],s=l[1];return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{tip:"Delete Post",onClick:function(){return s(!0)},btnClassName:t.deleteButton},r.a.createElement(we.a,{color:"secondary"})),r.a.createElement(B.a,{open:c,onClose:function(){return s(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(H.a,null,"Do you really want to delete this post?"),r.a.createElement(je.a,null,r.a.createElement(M.a,{onClick:function(){return s(!1)},color:"primary"},"Cancel"),r.a.createElement(M.a,{onClick:function(){return o(a),void s(!1)},color:"secondary"},"Delete")))))}))),Ce=a(116),ke=a.n(Ce),Pe=a(89),Re=a.n(Pe);var Ue={likePost:function(e){return function(t){t({type:"LOADING_DATA"}),S(e).then((function(e){t({type:"LIKE_POST",payload:e.data.post_id}),t({type:"UPDATE_POST_OBJECT",payload:e.data.post_id}),t({type:"ADD_LIKE",payload:e.data.post_id}),t({type:"FINISH_LOADING"})}))}},unlikePost:function(e){return function(t){t({type:"LOADING_DATA"}),I(e).then((function(e){t({type:"UNLIKE_POST",payload:e.data.post_id}),t({type:"REMOVE_LIKE",payload:e.data.post_id}),t({type:"UPDATE_POST_OBJECT",payload:e.data.post_id}),t({type:"FINISH_LOADING"})}))}}},Le=Object(R.b)((function(e){return{user:e.user}}),Ue)((function(e){var t=e.user,a=e.likePost,n=e.unlikePost,o=e.postId,i=t.authenticated?t.likes.includes(o)?r.a.createElement(K,{tip:"Unlike Post",onClick:function(){return function(){var e={postId:o,userId:t.credentials.id};n(e)}()}},r.a.createElement(ke.a,{color:"primary"})):r.a.createElement(K,{tip:"Like",onClick:function(){return function(){var e={postId:o,userId:t.credentials.id};a(e)}()}},r.a.createElement(Re.a,{color:"primary"})):r.a.createElement(A.b,{to:"/login"},r.a.createElement(K,{tip:"Like"},r.a.createElement(Re.a,{color:"primary"})));return r.a.createElement(r.a.Fragment,null,i)})),Ke=a(124);var Fe=G()((function(e){return Object(W.a)({},e.spreadThis,{commentImage:{maxWidth:"100%",height:100,objectFit:"cover",borderRadius:"20%"},commentData:{marginLeft:20}})}))((function(e){var t=e.comments,a=e.classes;return r.a.createElement(Ie.a,{container:!0},t.map((function(e,n){return function(e,n){var o=e.content,i=e.user_id,l=e.created_at,c=e.user.img_url?e.user.img_url:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png";return console.log("inside comments",c),r.a.createElement(r.a.Fragment,{key:l},r.a.createElement(Ie.a,{item:!0,sm:12},r.a.createElement(Ie.a,{container:!0},r.a.createElement(Ie.a,{item:!0,sm:2},r.a.createElement("img",{src:c,alt:"profile",className:a.commentImage})),r.a.createElement(Ie.a,{item:!0,sm:9},r.a.createElement("div",{className:a.commentData},r.a.createElement(Ke.a,{variant:"h5",component:A.b,to:"/users/".concat(i),color:"primary"},e.user.email),r.a.createElement(Ke.a,{variant:"body2",color:"textSecondary"},Te()(l).format("h:mm a, MMMM DD YYYY")),r.a.createElement("hr",{className:a.invisibleSeparator}),r.a.createElement(Ke.a,{variabnt:"body1"},o))))),n!==t.length-1&&r.a.createElement("hr",{className:a.visibleSeparator}))}(e,n)})))})),We=a(4),Qe=a.n(We);function Ge(e){var t=e.classes,a=e.user,o=e.submitComment,i=e.postId,l=Object(n.useState)(""),c=Object(F.a)(l,2),s=c[0],u=c[1];return a.authenticated?r.a.createElement(Ie.a,{item:!0,sm:12,style:{textAlign:"center"}},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t={content:s,post_id:i,user_id:a.credentials.id};o(t),u("")}(e)}},r.a.createElement(J.a,{name:"body",type:"text",label:"Comment on post",value:s,onChange:function(e){return function(e){u(e.target.value)}(e)},fullWidth:!0,className:t.textField}),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Submit")),r.a.createElement("hr",{className:t.invisibleSeparator})):null}Ge.propTypes={submitComment:Qe.a.func.isRequired,UI:Qe.a.object.isRequired,classes:Qe.a.object.isRequired,postId:Qe.a.string.isRequired,user:Qe.a.object.isRequired};var Me=Object(R.b)((function(e){return{UI:e.UI,user:e.user}}),{submitComment:function(e){return function(t){t({type:"LOADING_DATA"}),_(e).then((function(e){t({type:"UPDATE_POST_OBJECT",payload:e.post_id}),t({type:"NEW_COMMENT",payload:e}),t({type:"FINISH_LOADING"}),t({type:"SET_UNLOADING"})}))}}})(G()((function(e){return Object(W.a)({},e.spreadThis)}))(Ge)),Je=a(117),Be=a.n(Je),Ye=a(70),He=a.n(Ye);var Ve={getPost:function(e){return function(t){t({type:"LOADING_UI"}),x(e).then((function(e){t({type:"SET_POST",payload:e}),t({type:"FINISH_LOADING"})}))}}},qe=Object(R.b)((function(e){return{post:e.data.post,ui:e.ui}}),Ve)(G()((function(e){return Object(W.a)({},e.spreadThis,{profileImage:{maxWidth:150,height:150,borderRadius:"50%",objectFit:"cover"},dialogContent:{padding:20},closeButton:{position:"absolute",left:"90%"},expandButton:{position:"absolute",left:"90%"},spinnerDiv:{textAlign:"center",marginTop:50,marginBottom:50}})}))((function(e){var t=e.classes,a=e.getPost,o=e.post,i=(e.postDetails,e.postId),l=e.ui,c=Object(n.useState)(!1),s=Object(F.a)(c,2),u=s[0],m=s[1];Object(n.useEffect)((function(){i&&a(i)}),[u]);var p=!l.loading&&u?r.a.createElement(Ie.a,{container:!0,spacing:16},r.a.createElement(Ie.a,{item:!0,sm:5},r.a.createElement("img",{src:o.user.img_url?o.user.img_url:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",alt:"Profile",className:t.profileImage})),r.a.createElement(Ie.a,{item:!0,sm:7},r.a.createElement(Ke.a,{component:A.b,color:"primary",variant:"h5",to:"/users/".concat(o.user.user_id)},o.user.email),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(Ke.a,{variant:"body2",color:"textSecondary"},Te()(o.created_at).format("h:mm a, MMMM DD YYYY")),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(Ke.a,{variant:"body1"},o.content),r.a.createElement(Le,{postId:o.id}),r.a.createElement("span",null,o.likes_number," likes"),r.a.createElement(K,{tip:"comments"},r.a.createElement(He.a,{color:"primary"})),r.a.createElement("span",null,o.comments_on_post.length," comments")),r.a.createElement("hr",{className:t.visibleSeparator}),r.a.createElement(Me,{postId:o.id}),r.a.createElement(Fe,{comments:o.comments_on_post})):r.a.createElement("h3",null,"LOADING...");return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{onClick:function(){return m(!0)},tip:"Post details",tipClassName:t.expandButton},r.a.createElement(Be.a,{color:"primary"})),r.a.createElement(B.a,{open:u,onClose:function(){return m(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(K,{tip:"Close",onClick:function(){return m(!1)},tipClassName:t.closeButton},r.a.createElement(Z.a,null)),r.a.createElement(Y.a,{className:t.DialogContent},p)))}))),ze=a(210),Ze=a(212),Xe=a(211);var $e=Object(R.b)((function(e){return{user:e.user}}))(G()({card:{position:"relative",display:"flex",marginBottom:20},image:{minWidth:200},content:{padding:25,objectFit:"cover"}})((function(e){var t=e.classes,a=e.post,n=e.user,o=(e.actualPost,a.user.img_url?a.user.img_url:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"),i=n.authenticated&&n.credentials.id===a.user.user_id?r.a.createElement(De,{id:a.id}):null;return Te.a.extend(_e.a),console.log("inside render post. img url",o),r.a.createElement(ze.a,{className:t.card},r.a.createElement(Xe.a,{image:o,title:"Profile image",className:t.image}),r.a.createElement(Ze.a,{className:t.content},r.a.createElement(Ke.a,{variant:"h5",component:A.b,to:"/users/".concat(a.user.user_id),color:"primary"},a.user.email),i,r.a.createElement(Ke.a,{variant:"body2",color:"textSecondary"},Te()(a.created_at).fromNow()),r.a.createElement(Ke.a,{variant:"body1"},a.content),r.a.createElement(Le,{postId:a.id}),r.a.createElement("span",null,a.likes_number," likes"),r.a.createElement(K,{tip:"comments"},r.a.createElement(He.a,{color:"primary"})),r.a.createElement("span",null,a.comments_on_post.length," comments"),r.a.createElement(qe,{postDetails:a,userEmail:n.credentials.email,postId:a.id})))}))),et=a(10),tt=a(85),at=a.n(tt);var nt=Object(R.b)((function(e){return{credentials:e.user.credentials}}),{editUserDetails:function(e){return function(t){t({type:"LOADING_USER"}),N(e).then((function(e){console.log(e),t({type:"SET_USER",payload:e})}))}}})(G()((function(e){return Object(W.a)({},e.spreadThis,{button:{float:"right"}})}))((function(e){var t=e.classes,a=e.credentials,o=e.editUserDetails,i=Object(n.useState)({bio:"",website:"",location:"",img_url:"",open:!1}),l=Object(F.a)(i,2),c=l[0],s=l[1];Object(n.useEffect)((function(){s(Object(W.a)({},c,{bio:a.bio,img_url:a.img_url,website:a.website,location:a.location}))}),[c.open]);var u=function(){s(Object(W.a)({},c,{open:!1}))},m=function(e){s(Object(W.a)({},c,Object(et.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement(K,{tip:"Edit Details",onClick:function(){s(Object(W.a)({},c,{open:!0}))},btnClassName:t.button},r.a.createElement(at.a,{color:"primary"})),r.a.createElement(B.a,{open:c.open,onClose:function(){return u()},fullWidth:!0,maxWidth:"sm"},r.a.createElement(H.a,null,"Edit your details"),r.a.createElement(Y.a,null,r.a.createElement("form",null,r.a.createElement(J.a,{name:"bio",tpye:"text",label:"Bio",multiline:!0,rows:"3",placeholder:"A short bio about yourself",className:t.textField,value:c.bio,onChange:function(e){return m(e)},fullWidth:!0}),r.a.createElement(J.a,{name:"website",tpye:"text",label:"Website",placeholder:"Youtube/Twitch/Facebook Game channel",className:t.textField,value:c.website,onChange:function(e){return m(e)},fullWidth:!0}),r.a.createElement(J.a,{name:"location",tpye:"text",label:"Location",placeholder:"Where you live",className:t.textField,value:c.location,onChange:function(e){return m(e)},fullWidth:!0}),r.a.createElement(J.a,{name:"img_url",tpye:"text",label:"Profile Image (URL)",placeholder:"Add your profile image here",className:t.textField,value:c.img_url,onChange:function(e){return m(e)},fullWidth:!0}))),r.a.createElement(je.a,null,r.a.createElement(M.a,{onClick:function(){return u()},color:"primary"},"Cancel"),r.a.createElement(M.a,{onClick:function(){return function(){var e={bio:c.bio,website:c.website,location:c.location,img_url:c.img_url,user_id:a.id};o(e),u()}()},color:"primary"},"Save"))))}))),rt=a(213),ot=a(123),it=a(71),lt=a.n(it),ct=a(72),st=a.n(ct),ut=a(73),mt=a.n(ut),pt=a(118),dt=a.n(pt),Et={logoutUser:function(){return function(e){localStorage.removeItem("token"),e({type:"SET_UNAUTHENTICATED"})}}},ft=Object(R.b)((function(e){return{user:e.user}}),Et)(G()((function(e){return Object(W.a)({},e.spreadThis)}))((function(e){var t,a=e.classes,n=e.user,o=e.logoutUser,i=n.credentials.img_url?n.credentials.img_url:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png";return t=n.loading?r.a.createElement("p",null,"Loading..."):n.authenticated?r.a.createElement(ot.a,{className:a.paper},r.a.createElement("div",{className:a.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:"".concat(i),alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(rt.a,{component:A.b,to:"/users/".concat(n.credentials.id),color:"primary",variant:"h5"},n.credentials.email),r.a.createElement("hr",null),r.a.createElement(Ke.a,{variant:"body2"},n.credentials.bio?n.credentials.bio:"Your bio goes here"),r.a.createElement("hr",null),r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{color:"primary"})," ",r.a.createElement("span",null,n.credentials.location?n.credentials.location:"No Location Yet"),r.a.createElement("hr",null)),r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{color:"primary"}),r.a.createElement("span",null,n.credentials.website?r.a.createElement("a",{href:n.credentials.website,target:"_blank",rel:"noopener noreferrer"}," ","Website"):"No website yet"),r.a.createElement("hr",null)),r.a.createElement(r.a.Fragment,null,r.a.createElement(mt.a,{color:"primary"})," ",r.a.createElement("span",null,"Joined ",Te()(n.credentials.created_at).format("MMM YYYY")))),r.a.createElement(K,{tip:"Logout",onClick:function(e){o()}},r.a.createElement(dt.a,{color:"primary"})),r.a.createElement(nt,null))):r.a.createElement(ot.a,{className:a.paper},r.a.createElement(Ke.a,{variant:"body2",align:"center"},"No profile found, please login"),r.a.createElement("div",{className:a.buttons},r.a.createElement(M.a,{variant:"contained",color:"primary",component:A.b,to:"/login"},"Login"),r.a.createElement(M.a,{variant:"contained",color:"secondary",component:A.b,to:"/signup"},"Sign Up"))),r.a.createElement("div",null,t)})));var gt=Object(R.b)((function(e){return{data:e.data}}),{getPosts:function(){return function(e){e({type:"LOADING_DATA"}),y().then((function(t){return e({type:"SET_POSTS",payload:t})}))}}})((function(e){var t=e.getPosts,a=e.data,o=Object(n.useState)([]),i=Object(F.a)(o,2),l=(i[0],i[1]);Object(n.useEffect)((function(){t(),l(a.posts)}),[]);var c=a.posts?a.posts.map((function(e){return r.a.createElement($e,{post:e,key:e.id})})):r.a.createElement("p",null,"Loading...");return r.a.createElement(Ie.a,{container:!0,spacing:7},r.a.createElement(Ie.a,{item:!0,sm:4,xs:12},r.a.createElement(ft,null)),r.a.createElement(Ie.a,{item:!0,sm:8,xs:12},c))})),bt=a(74),ht=a.n(bt);var yt={loginUser:function(e,t){return function(a){a({type:"LOADING_UI"}),b(e).then((function(e){e.token?(a({type:"SET_AUTHENTICATED",payload:e}),localStorage.token=e.token,t.push("/")):alert("nope")})).catch((function(e){a({type:"SET_ERRORS",payload:"Something went wrong"})}))}}},vt=Object(R.b)((function(e){return{user:e.user,UI:e.UI}}),yt)(G()({form:{textAlign:"center"},image:{margin:"20px auto 10px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{margin:"20px auto 10px auto",position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"}})((function(e){var t=e.classes,a=e.history,o=e.loginUser,i=Object(n.useState)({email:"",password:"",login:!1,errors:{}}),l=Object(F.a)(i,2),c=l[0],s=l[1],u=function(e){s(Object(W.a)({},c,Object(et.a)({},e.target.name,e.target.value)))};return r.a.createElement(Ie.a,{container:!0,className:t.form},r.a.createElement(Ie.a,{item:!0,sm:!0}),r.a.createElement(Ie.a,{item:!0,sm:!0},r.a.createElement("img",{src:ht.a,alt:"logo",className:t.image}),r.a.createElement(Ke.a,{variant:"h2",className:t.pageTitle},"Login"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){return function(e){e.preventDefault();var t={email:c.email,password:c.password};o(t,a)}(e)}},r.a.createElement(J.a,{id:"email",name:"email",type:"email",label:"email",className:t.textField,value:c.email,onChange:function(e){return u(e)},helperText:c.errors.email,error:!!c.errors.email,fullWidth:!0}),r.a.createElement(J.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,value:c.password,helperText:c.errors.password,error:!!c.errors.password,onChange:function(e){return u(e)},fullWidth:!0}),c.errors.general&&r.a.createElement(Ke.a,{variant:"body2",className:t.customError},c.errors.general),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:!1},"Login"),r.a.createElement("br",null),r.a.createElement("small",null,"Don't have an account? ",r.a.createElement(A.b,{to:"/signup"},"Sign up")))),r.a.createElement(Ie.a,{item:!0,sm:!0}))}))),Nt=a(214);var Ot=Object(R.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:"LOADING_UI"}),v(e).then((function(e){e.token?(localStorage.token=e.token,a({type:"SET_AUTHENTICATED",payload:e}),t.push("/")):alert("nope")})).catch((function(e){a({type:"SET_ERRORS",payload:"Something went wrong"})}))}}})(G()({form:{textAlign:"center"},image:{margin:"20px auto 10px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{margin:"20px auto 10px auto",position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"}})((function(e){var t=e.classes,a=e.history,o=e.signupUser,i=Object(n.useState)({email:"",password:"",confirmPassword:"",login:!1,errors:{}}),l=Object(F.a)(i,2),c=l[0],s=l[1],u=function(e){s(Object(W.a)({},c,Object(et.a)({},e.target.name,e.target.value)))};return r.a.createElement(Ie.a,{container:!0,className:t.form},r.a.createElement(Ie.a,{item:!0,sm:!0}),r.a.createElement(Ie.a,{item:!0,sm:!0},r.a.createElement("img",{src:ht.a,alt:"logo",className:t.image}),r.a.createElement(Ke.a,{variant:"h2",className:t.pageTitle},"Signup"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){return function(e){e.preventDefault();var t={user:{email:c.email,password:c.password,password_confirmation:c.confirmPassword}};o(t,a)}(e)}},r.a.createElement(J.a,{id:"email",name:"email",type:"email",label:"email",className:t.textField,value:c.email,onChange:function(e){return u(e)},helperText:c.errors.email,error:!!c.errors.email,fullWidth:!0}),r.a.createElement(J.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,value:c.password,helperText:c.errors.password,error:!!c.errors.password,onChange:function(e){return u(e)},fullWidth:!0}),r.a.createElement(J.a,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"confirm Password",className:t.textField,value:c.confirmPassword,helperText:c.errors.confirmPassword,error:!!c.errors.confirmPassword,onChange:function(e){return u(e)},fullWidth:!0}),c.errors.general&&r.a.createElement(Ke.a,{variant:"body2",className:t.customError},c.errors.general),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:c.loading},"Signup",c.loading&&r.a.createElement(Nt.a,{size:30,className:t.progress})),r.a.createElement("br",null),r.a.createElement("small",null,"Already have an account? ",r.a.createElement(A.b,{to:"/login"},"Login")))),r.a.createElement(Ie.a,{item:!0,sm:!0}))})));var It=G()((function(e){return Object(W.a)({},e.spreadThis)}))((function(e){var t=e.classes,a=e.profile;return r.a.createElement(ot.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(rt.a,{component:A.b,to:"/users/".concat(1),color:"primary",variant:"h5"},a.email),r.a.createElement("hr",null),a.bio&&r.a.createElement(Ke.a,{variant:"body2"},a.bio),r.a.createElement(Ke.a,{variant:"body2"},"bio"),r.a.createElement("hr",null),a.location&&r.a.createElement(n.Fragment,null,r.a.createElement(lt.a,{color:"primary"})," ",r.a.createElement("span",null,a.location),r.a.createElement("hr",null)),a.website&&r.a.createElement(n.Fragment,null,r.a.createElement(st.a,{color:"primary"}),r.a.createElement("a",{href:a.website,target:"_blank",rel:"noopener noreferrer"}," ","Website"),r.a.createElement("hr",null)),r.a.createElement(mt.a,{color:"primary"})," ",r.a.createElement("span",null,"Joined ",Te()(a.created_at).format("MMM YYYY")))))}));var St=Object(R.b)((function(e){return{data:e.data}}),{getUser:function(e){return function(t){t({type:"LOADING_DATA"}),j(e).then((function(e){t({type:"SET_USER_DATA",payload:e})}))}}})((function(e){var t=e.match,a=e.getUser,o=e.data,i=Object(n.useState)(""),l=Object(F.a)(i,2),c=(l[0],l[1]),s=Object(n.useState)(""),u=Object(F.a)(s,2);u[0],u[1],Object(n.useEffect)((function(){a(t.params.user_id),c(o.posts.filter((function(e){return e.user.user_id==t.params.user_id})))}),[]);var m=o.loading?r.a.createElement("p",null,"loading"):r.a.createElement(It,{profile:o.userData}),p=o.loading?r.a.createElement("p",null,"Loading Posts"):void 0===o.userData.posts?r.a.createElement("p",null,"No posts for this user"):o.userPosts.map((function(e){return function(e){return r.a.createElement($e,{key:e.id,post:e})}(e)}));return r.a.createElement(Ie.a,{container:!0,spacing:16},r.a.createElement(Ie.a,{item:!0,sm:4,xs:12},m),r.a.createElement(Ie.a,{item:!0,sm:8,xs:12},p))})),Tt=pe()({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},spreadThis:{typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}}}),xt=localStorage.token;xt&&h(xt).then((function(e){Oe.dispatch({type:"SET_AUTHENTICATED",payload:e})}));var _t=function(){return r.a.createElement(ue.a,{theme:Tt},r.a.createElement(R.a,{store:Oe},r.a.createElement(A.a,null,r.a.createElement(ie,null),r.a.createElement("div",{className:"container"},r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/",component:gt}),r.a.createElement(ce,{exact:!0,path:"/login",component:vt}),r.a.createElement(ce,{exact:!0,path:"/signup",component:Ot}),r.a.createElement(w.b,{exact:!0,path:"/users/:user_id",component:St}))))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_t,null)),document.getElementById("root"))},74:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAABfCAYAAADiSknwAAAABHNCSVQICAgIfAhkiAAAABl0RVh0U29mdHdhcmUAZ25vbWUtc2NyZWVuc2hvdO8Dvz4AAATESURBVHic7ZtPaCNVHMe/6589OL0mOTaTeNBhNoJsKfVgILSghWCEgoXKKhS27cFAdw9eVpFVWD10F7JC7UJhVxT2sIdCoSKGQESsxYqYhrDs0qQBFTJz7eSqpwlpM5PMpJPf9Lf8PpeQyWTee/N5b+b3e/PmwlvvvPcfBFY8F3YFBP+INIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIaINIa8EHYFuknpGi7pGlK61vkeJpVqrfP5294+DhtHodbH5kLYb4KOKQqmM28il51FLBoJsyoDaRkmtrZ3UCz9jGPLCq0eoUpL6Rqu5VfOvazTtAwTtwvrnZFIzfMvv6J/FkbBC/NzuJ5fwZiihFH8mRhTFMxk0gCAgxDEhSLtWn4F72ZnqYsNnJSuIRaNYHdvn7Rc8ugxl53t9NJngZlMGjniDkg60qYmJ3A9v+Jp35Zhot5oomWYABDqZdSy2nj85KlrPS6//hrqjSb+/udfkvqQhvxLi1c87dcyTHx49aMT2+7fu0sesNQbTWxsPjgRcKR0DUuLHyChjp/Yd2nxCnb3fiepF9nlcSaT9nzS7dE1aNuocYoQK9UaNjYf9Owbi0bILvtk0hbm56iKCoSWYbom05VqDZbV7tlO1UYSaXaUxYlBI9tJaCwaIZnFIZPGjUGd7PQ9zYairSSBSEKNu/7WMsyeXl1vNHv2c9oWi0ZGNoJj0QiSatxxRCXVuGs026+tQUEi7ZL+quN2pyjRDaebPzDaqHI1v4w7hW9OiEvpGq72iYLd2hokJNLcemUQEWHLMEcmLanG8fWdL3FsWag3mp5GNkU+ea4ezYSNZbVx2DjqkTOmKJ7vVRSpCYm0SrXm2OggRkgQx/CTRA/imZHmRiwawf17dx0DkdP3MKcTGFQgcruw3hNw2En0V198eubjBw2JtAOXkQZ4P/EJdXwk4bSXJFpRXvJ8PIpHNSR5GvWjCz8Mk0T3g6KtJNIOG0eO0z7ngWGTaCfsQGbUkM09fvfwEVVRvrCTaCf6JdFOULWRTNrW9o7nyMqp949y7nI1v9wjLqVrWM0vez6GveiHAtKFPSld8xyNdU9vjXK6qhs/SfRpPr5xk2yhD2nIX6nWUCyVMe3huROVqG78JNHdFEtl0pVZ5HnaWmEdADyJ88Pu3j7qA4KAhBrH1OTlQMstlsqdNlERSnK9VljHsdVGLvt2IMfb2PzW8/0kl531vOxhEFvbP7hOZI+S0NY9/vHnX52ke9hJVstq45Obt1D+5VfP/3n85CkOqjW8MTmBixdfHKrclmHi81tr2PmxONT/z0roy8IB4P35OUz7XEPy/cNH+KlUPlO5M5k0FubnfJVbLJVDT1/OhTSbpBrHdCaNhDqOpBrvTB/ZSWu90USlWgt81dPU5ARSuta33GKpLC9gCMMj76cxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQxRKQx5H8tJqh+KJ5SYAAAAABJRU5ErkJggg=="}},[[138,1,2]]]);
//# sourceMappingURL=main.8e7ead84.chunk.js.map